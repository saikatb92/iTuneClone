(this.webpackJsonpitune=this.webpackJsonpitune||[]).push([[0],{106:function(e,t,a){e.exports={general:"mastHead_general__3etQa",homeIcon:"mastHead_homeIcon__3C2dR"}},190:function(e,t,a){e.exports={scrollToTop:"scrollToTop_scrollToTop__3CT2I"}},192:function(e,t,a){e.exports={favoriteMusicContainer:"favorites_favoriteMusicContainer__Dp0qm"}},193:function(e,t,a){e.exports={content:"content_content__oDuIt"}},201:function(e,t,a){},205:function(e,t,a){},219:function(e,t){},355:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),s=a.n(r),i=(a(201),a(37)),o=(a(205),a(40)),l=a(15),u=a(362),d=a(361),j=a(357),b=a(106),m=a.n(b),O=a(3);var h=function(){return Object(O.jsx)("div",{className:m.a.general,children:Object(O.jsx)(u.a,{bg:"dark",children:Object(O.jsxs)(u.a.Collapse,{id:"responsive-navbar-nav",children:[Object(O.jsx)(d.a,{className:"mr-auto",children:Object(O.jsx)(o.b,{className:m.a.homeIcon,to:"/top-100-albums",children:"Music"})}),Object(O.jsx)(d.a,{children:Object(O.jsx)(o.b,{to:"/Favorites",children:Object(O.jsx)("h4",{children:Object(O.jsx)(j.a,{pill:!0,className:"h-3",variant:"danger",children:"Favorites"})})})})]})})})},v=a(44),x=a(360),f=a(363),p=(a(209),a(108)),_=(a(334),a(11)),D=a.n(_),g=a(358),C=a(190),y=a.n(C);var k=function(){var e=Object(n.useState)(!1),t=Object(v.a)(e,2),a=t[0],c=t[1];return window.addEventListener("scroll",(function(){var e=document.documentElement.scrollTop;return c(e>300)})),a?Object(O.jsx)("div",{className:y.a.scrollToTop,children:Object(O.jsx)(g.a,{variant:"danger",size:"sm",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"Scroll to top"})}):null},N=a(72),L=Object(N.b)({name:"musicList",initialState:{albums:[],errors:[]},reducers:{componentDidMount:function(){},saveData:function(e,t){e.albums=t.payload},setFavorite:function(e,t){var a=e.albums.filter((function(e){return e.id.attributes["im:id"]===t.payload}));a[0].isFavorite=!a[0].isFavorite},setErrors:function(e,t){e.errors=[],e.errors.push(t.payload)}}}),w=L.actions,F=w.componentDidMount,S=w.saveData,T=w.setFavorite,I=w.setErrors,B=function(e){return e.musicList},E=L.reducer,A=a(364),M=a(191),R=a.n(M),P=a(52),U=a.n(P);var H=function(e){var t,a=e.details,n=e.handleFavoriteClick,c=e.handleAlbumClick,r=null===a||void 0===a||null===(t=a.id)||void 0===t?void 0:t.attributes["im:id"];return Object(O.jsx)("div",{className:U.a.cardContainer,children:Object(O.jsxs)(A.a,{className:U.a.card,children:[Object(O.jsx)(A.a.Img,{variant:"top",src:a["im:image"][2].label,alt:"Album cover",onClick:function(){return c(a)}}),Object(O.jsx)(A.a.Body,{className:U.a.cardBody,children:Object(O.jsxs)("div",{className:U.a.info,children:[Object(O.jsxs)("div",{className:U.a.titleDiv,onClick:function(){return c(a)},children:[Object(O.jsx)("span",{children:a["im:name"].label}),Object(O.jsx)("span",{className:U.a.subtitle,children:Object(O.jsx)("i",{children:a["im:artist"].label})})]}),Object(O.jsx)("div",{className:"favoriteCheckbox",children:Object(O.jsx)(R.a,{checked:null===a||void 0===a?void 0:a.isFavorite,onClick:function(){return n(r)}})})]})})]})})},J=a(63),K=a.n(J);function V(e){var t=e.searchKey,a=e.handleSearchType;return Object(O.jsx)("div",{className:K.a.search,children:Object(O.jsx)(x.a.Control,{type:"text",placeholder:"Search album",value:t,onChange:function(e){return a(e)}})})}function Z(e){var t=e.categories,a=e.selectedCategory,n=e.setSelectedCategory;return Object(O.jsxs)("div",{className:K.a.categoryFilter,children:[Object(O.jsx)(x.a.Label,{children:"Categories"}),Object(O.jsxs)(x.a.Control,{as:"select","aria-label":"Default select example",defaultValue:a,onChange:function(e){return n(e.target.value)},children:[Object(O.jsx)("option",{value:"",children:"All"}),t.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))]})]})}function q(e){var t=e.startDate,a=e.endDate,c=e.setStartDate,r=e.setEndDate,s=Object(n.useState)(),i=Object(v.a)(s,2),o=i[0],l=i[1];return Object(O.jsxs)("div",{className:K.a.dateFilter,children:[Object(O.jsx)(x.a.Label,{children:"Release Date"}),Object(O.jsx)(p.DateRangePicker,{orientation:"vertical",startDate:t,startDateId:"start-date",endDate:a,endDateId:"end-date",isOutsideRange:function(e){return!Object(p.isInclusivelyBeforeDay)(e,D()())},maxDate:new Date,onDatesChange:function(e){var t=e.startDate,a=e.endDate;c(t),r(a)},focusedInput:o,onFocusChange:function(e){return l(e)}})]})}function z(e){var t=e.categories,a=e.selectedCategory,n=e.setSelectedCategory,c=e.startDate,r=e.endDate,s=e.setStartDate,i=e.setEndDate;return Object(O.jsxs)("div",{className:K.a.filterDiv,children:[Object(O.jsx)(Z,{categories:t,selectedCategory:a,setSelectedCategory:n}),Object(O.jsx)(q,{startDate:c,endDate:r,setStartDate:s,setEndDate:i})]})}var G=function(){var e=Object(i.b)(),t=Object(l.f)(),a=Object(i.c)(B).albums||[],c=Object(i.c)(B).errors||[],r=Object(n.useState)(""),s=Object(v.a)(r,2),o=s[0],u=s[1],d=Object(n.useState)(""),j=Object(v.a)(d,2),b=j[0],m=j[1],h=Object(n.useState)(0),x=Object(v.a)(h,2),p=x[0],_=x[1],D=Object(n.useState)(0),g=Object(v.a)(D,2),C=g[0],y=g[1];Object(n.useEffect)((function(){0===a.length&&e(F())}),[]);var N=function(t){e(T(t))},L=function(e){t.push("/album-details",{details:e})};return Object(O.jsxs)("div",{children:[Object(O.jsx)(V,{searchKey:o,handleSearchType:function(e){u(e.target.value)}}),Object(O.jsx)(z,{categories:function(e){for(var t=new Set,a=0;a<e.length;a+=1)t.add(e[a].category.attributes.label);return Array.from(t)}(a),selectedCategory:b,setSelectedCategory:m,startDate:p,endDate:C,setStartDate:_,setEndDate:y}),c.length>0?c.map((function(e){return Object(O.jsx)(f.a,{variant:"danger",children:e},e)})):null,Object(O.jsx)("div",{className:K.a.musicListContainer,children:function(){var e=Date.parse(new Date(p))||0,t=Date.parse(new Date(C))||Date.parse(new Date);return a.filter((function(a){return a["im:name"].label.toLowerCase().includes(o.toLowerCase())&&Date.parse(a["im:releaseDate"].label)>=e&&Date.parse(a["im:releaseDate"].label)<=t&&(""===b||a.category.attributes.label===b)})).map((function(e){return Object(O.jsx)(H,{details:e,handleFavoriteClick:N,handleAlbumClick:L},e.id.attributes["im:id"])}))}()}),Object(O.jsx)(k,{})]})},Q=a(359),W=a(73),X=a.n(W);var Y=function(e){var t=e.location,a=Object(l.f)();Object(n.useEffect)((function(){t.state||a.push("/top-100-albums")}),[]);var c=t.state.details;return Object(O.jsxs)("div",{className:X.a.detailsContainer,children:[Object(O.jsx)("div",{className:X.a.coverImage,children:Object(O.jsx)(Q.a,{src:c["im:image"][2].label,rounded:!0})}),Object(O.jsx)("div",{className:X.a.itunesLinkButton,children:Object(O.jsx)(g.a,{variant:"danger",onClick:function(){window.open(c.link.attributes.href,"_blank")},children:"Listen in iTunes"})}),Object(O.jsxs)("div",{className:X.a.details,children:[Object(O.jsx)("span",{children:Object(O.jsx)("h3",{children:c["im:name"].label})}),Object(O.jsx)("span",{children:Object(O.jsx)("h5",{children:c["im:artist"].label})}),Object(O.jsx)("span",{children:Object(O.jsx)("i",{children:"".concat(c["im:contentType"].attributes.label," ").concat(c["im:contentType"]["im:contentType"].attributes.label,"  (").concat(c["im:itemCount"].label," Songs)")})}),Object(O.jsx)("span",{children:Object(O.jsx)("i",{children:"Price: ".concat(c["im:price"].label)})}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:"Category: ".concat(c.category.attributes.label)}),Object(O.jsx)("br",{}),Object(O.jsx)("span",{children:"Release date: ".concat(c["im:releaseDate"].attributes.label)}),Object(O.jsx)("span",{children:"".concat(c.rights.label)})]}),Object(O.jsx)("div",{})]})},$=a(192),ee=a.n($);var te=function(){var e=Object(i.b)(),t=Object(l.f)(),a=Object(i.c)(B).albums||[],n=function(t){e(T(t))},c=function(e){t.push("/album-details",{details:e})};return Object(O.jsxs)("div",{className:ee.a.favoriteMusicContainer,children:[function(){var e=a.filter((function(e){return!0===e.isFavorite}));return e.length?e.map((function(e){return Object(O.jsx)(H,{details:e,handleFavoriteClick:n,handleAlbumClick:c},e.id.attributes["im:id"])})):Object(O.jsx)("span",{children:Object(O.jsx)("h2",{children:"Hmmm... Looks like you have not chosen any album as your favorite!"})})}(),Object(O.jsx)(k,{})]})},ae=a(193),ne=a.n(ae);var ce=function(){return Object(O.jsxs)(o.a,{children:[Object(O.jsx)(h,{}),Object(O.jsx)("div",{className:ne.a.content,children:Object(O.jsxs)(l.c,{children:[Object(O.jsx)(l.a,{path:"/",exact:!0,component:G}),Object(O.jsx)(l.a,{path:"/album-details",component:Y}),Object(O.jsx)(l.a,{path:"/top-100-albums",component:G}),Object(O.jsx)(l.a,{path:"/favorites",component:te}),Object(O.jsx)(l.a,{default:!0,component:G})]})})]})};var re=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(ce,{})})},se=a(195),ie=a(196),oe=a(43),le=a.n(oe),ue=a(45),de=a(194),je=a.n(de),be=le.a.mark(ve),me=le.a.mark(xe),Oe=function(e){return je.a.get(e)};function he(e){for(var t=0;t<e.length;t+=1)e[t].isFavorite=!1}function ve(){var e,t,a,n;return le.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(ue.b)(Oe,"https://itunes.apple.com/us/rss/topalbums/limit=100/json");case 3:return a=c.sent,he(n=(null===(e=a.data)||void 0===e||null===(t=e.feed)||void 0===t?void 0:t.entry)||[]),c.next=8,Object(ue.c)(S(n));case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(0),c.next=14,Object(ue.c)(I(c.t0.message));case 14:case"end":return c.stop()}}),be,null,[[0,10]])}function xe(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(ue.d)(F);case 3:return e.next=5,Object(ue.b)(ve);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),me)}var fe=le.a.mark(pe);function pe(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.a)([xe()]);case 2:case"end":return e.stop()}}),fe)}var _e=Object(ie.a)(),De=[].concat(Object(se.a)(Object(N.c)({thunk:!1})),[_e]),ge=Object(N.a)({reducer:{musicList:E},middleware:De});_e.run(pe);a(354);s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(i.a,{store:ge,children:Object(O.jsx)(re,{})})}),document.getElementById("root"))},52:function(e,t,a){e.exports={card:"card_card__13UF7",cardBody:"card_cardBody__mFjZE",cardContainer:"card_cardContainer__3UP2g",info:"card_info__oX5dR",titleDiv:"card_titleDiv__20UB0",favoriteCheckbox:"card_favoriteCheckbox__-0tPU",subtitle:"card_subtitle__3o8A-"}},63:function(e,t,a){e.exports={musicListContainer:"musicList_musicListContainer__3JVx_",search:"musicList_search__II25p",filterDiv:"musicList_filterDiv__2Ps8i",dateFilter:"musicList_dateFilter__1GnMF",DateRangePicker_1:"musicList_DateRangePicker_1__f00OL",categoryFilter:"musicList_categoryFilter__3TmsU"}},73:function(e,t,a){e.exports={detailsContainer:"albumDetails_detailsContainer__1B7va",coverImage:"albumDetails_coverImage__3_WZe",details:"albumDetails_details__1BOBv",itunesLinkButton:"albumDetails_itunesLinkButton__10Okf"}}},[[355,1,2]]]);
//# sourceMappingURL=main.3facfe3e.chunk.js.map